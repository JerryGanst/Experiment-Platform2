# Smart Email AI ğŸ› ï¸ğŸ“§

> MCPé‚®ä»¶å¤„ç†å·¥å…·é›† - ä¸“ä¸šçš„é‚®ä»¶è§£æå’Œæ•°æ®å¤„ç†å·¥å…·

## ğŸŒŸ é¡¹ç›®ç®€ä»‹

Smart Email AI æ˜¯ä¸€ä¸ªä¸“ä¸ºMCPï¼ˆModel Context Protocolï¼‰ç¯å¢ƒè®¾è®¡çš„é‚®ä»¶å¤„ç†å·¥å…·é›†ã€‚å®ƒä¸“æ³¨äºé‚®ä»¶çš„è§£æã€æ¸…ç†ã€ç»“æ„åŒ–å¤„ç†ï¼Œä¸ºAIæ¨¡å‹æä¾›é«˜è´¨é‡çš„é‚®ä»¶æ•°æ®ã€‚éµå¾ª"å·¥å…·åšå¤„ç†ï¼ŒAIåšåˆ†æ"çš„è®¾è®¡åŸåˆ™ã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **ğŸ” ä¸“ç²¾é‚®ä»¶è§£æ**: æ”¯æŒOutlook HTMLé‚®ä»¶çš„æ·±åº¦è§£æï¼ŒåŒ…æ‹¬è½¬å‘é“¾å’ŒåµŒå¥—ç»“æ„
- **ğŸ“Š è¡¨æ ¼æ•°æ®æå–**: æ™ºèƒ½è¯†åˆ«å’Œæå–é‚®ä»¶ä¸­çš„æ•°æ®è¡¨æ ¼ï¼Œè½¬æ¢ä¸ºç»“æ„åŒ–æ ¼å¼
- **ğŸ§¹ å†…å®¹æ¸…ç†ä¼˜åŒ–**: ç§»é™¤HTMLå™ªå£°ï¼Œæå–çº¯å‡€çš„é‚®ä»¶å†…å®¹
- **ğŸ“ æ ¼å¼æ ‡å‡†åŒ–**: å°†å¤æ‚é‚®ä»¶ç»“æ„è½¬æ¢ä¸ºæ ‡å‡†åŒ–çš„æ•°æ®æ ¼å¼
- **âš™ï¸ é…ç½®é©±åŠ¨**: æ”¯æŒçµæ´»çš„é…ç½®ç®¡ç†å’Œæ•°æ®æŒä¹…åŒ–
- **ğŸ”Œ MCPé›†æˆ**: å®Œå…¨éµå¾ªMCPåè®®ï¼Œæä¾›æ ‡å‡†åŒ–çš„å·¥å…·æ¥å£

### ğŸ’¡ è®¾è®¡ç†å¿µ

**ä¸ºä»€ä¹ˆä¸å†…ç½®AIåˆ†æï¼Ÿ**

åœ¨MCPç¯å¢ƒä¸­ï¼ŒAIåˆ†æåº”è¯¥ç”±å¤–éƒ¨AIæ¨¡å‹ï¼ˆå¦‚Claudeï¼‰å®Œæˆï¼Œè€Œä¸æ˜¯åœ¨å·¥å…·å†…éƒ¨é‡å¤å®ç°ï¼š

- âœ… **èŒè´£åˆ†ç¦»**: å·¥å…·è´Ÿè´£æ•°æ®å¤„ç†ï¼ŒAIè´Ÿè´£æ™ºèƒ½åˆ†æ
- âœ… **é¿å…é‡å¤**: ä¸ä¸å¤–éƒ¨AIæ¨¡å‹åŠŸèƒ½é‡å 
- âœ… **æ€§èƒ½ä¼˜åŒ–**: é¿å…åŒé‡AIå¤„ç†çš„èµ„æºæµªè´¹
- âœ… **æ›´å¥½ç»´æŠ¤**: å•ä¸€èŒè´£åŸåˆ™ï¼Œä»£ç æ›´æ¸…æ™°

**å·¥å…·çš„ä»·å€¼åœ¨äºæä¾›é«˜è´¨é‡çš„ç»“æ„åŒ–æ•°æ®ï¼Œè®©AIæ¨¡å‹èƒ½å¤Ÿè¿›è¡Œæ›´å‡†ç¡®çš„åˆ†æã€‚**

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–ã€è§£è€¦çš„æ¶æ„è®¾è®¡ï¼š

```
smart_email_ai/
â”œâ”€â”€ src/smart_email_ai/          # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ __init__.py             # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ main.py                 # ä¸»ç³»ç»Ÿå…¥å£
â”‚   â”œâ”€â”€ interfaces/             # æ¥å£å±‚
â”‚   â”‚   â”œâ”€â”€ config_interface.py # é…ç½®ç®¡ç†æ¥å£
â”‚   â”‚   â””â”€â”€ email_interface.py  # é‚®ä»¶æ•°æ®æ¥å£
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ parser.py          # é‚®ä»¶è§£æå™¨
â”‚   â””â”€â”€ mcp/                    # MCPæœåŠ¡å±‚
â”œâ”€â”€ data/                       # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.yaml            # ç³»ç»Ÿé…ç½®
â”‚   â””â”€â”€ demo_emails.json       # æ¼”ç¤ºé‚®ä»¶æ•°æ®
â”œâ”€â”€ examples/                   # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ tests/                      # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”œâ”€â”€ legacy/                     # é—ç•™ä»£ç 
â””â”€â”€ main.py                     # é¡¹ç›®ä¸»å…¥å£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- Python 3.8+
- 8GB+ RAMï¼ˆç”¨äºAIåˆ†æï¼‰
- æ”¯æŒçš„æ“ä½œç³»ç»Ÿï¼šWindows, macOS, Linux

### âš¡ å®‰è£…

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd smart_email_ai
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python -m venv .venv
source .venv/bin/activate  # Linux/macOS
# æˆ–
.venv\Scripts\activate     # Windows
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
# æˆ–ä½¿ç”¨uvï¼ˆæ¨èï¼‰
uv pip install -r requirements.txt
```

### ğŸ® ä½¿ç”¨æ–¹æ³•

#### 1. å¿«é€Ÿæ¼”ç¤º
```bash
# è¿è¡Œå®Œæ•´æ¼”ç¤º
python main.py --demo

# æˆ–è¿è¡Œå¿«é€Ÿå¼€å§‹ç¤ºä¾‹
python examples/quick_start.py
```

#### 2. åˆ†æé‚®ä»¶æ–‡ä»¶
```bash
# åˆ†æHTMLé‚®ä»¶æ–‡ä»¶
python main.py --analyze path/to/your/email.html

# åˆ†æEMLé‚®ä»¶æ–‡ä»¶
python main.py --analyze path/to/your/email.eml
```

#### 3. äº¤äº’å¼æ¨¡å¼
```bash
# å¯åŠ¨äº¤äº’å¼ç•Œé¢
python main.py
```

#### 4. è¿è¡Œæµ‹è¯•
```bash
# ç³»ç»ŸåŠŸèƒ½æµ‹è¯•
python main.py --test
```

## ğŸ”§ é…ç½®è¯´æ˜

ç³»ç»Ÿé…ç½®æ–‡ä»¶ä½äº `data/config.yaml`ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦é…ç½®ï¼š

### AIåˆ†æå™¨é…ç½®
```yaml
ai_settings:
  learning_rate: 0.1
  trust_threshold: 0.5
  priority_weights:
    urgency: 0.4      # ç´§æ€¥æ€§æƒé‡
    sender: 0.3       # å‘ä»¶äººæƒé‡
    content: 0.2      # å†…å®¹æƒé‡
    importance: 0.1   # é‡è¦æ€§æƒé‡
```

### é‚®ä»¶è§£æå™¨é…ç½®
```yaml
parser_settings:
  forward_patterns:
    - "-----\\s*åŸå§‹é‚®ä»¶\\s*-----"
    - "-----\\s*Forwarded message\\s*-----"
  table_detection:
    skip_layout_tables: true
    min_data_rows: 2
```

### æƒ…æ„Ÿåˆ†æé…ç½®
```yaml
ai_settings:
  emotional_keywords:
    urgent: ["urgent", "ç´§æ€¥", "asap", "ç«‹å³"]
    positive: ["great", "excellent", "perfect", "ä¼˜ç§€"]
    negative: ["problem", "issue", "error", "é—®é¢˜"]
```

## ğŸ’» ç¼–ç¨‹æ¥å£

### åŸºæœ¬ä½¿ç”¨

```python
from smart_email_ai import RefactoredEmailSystem, OutlookEmailParser

# åˆå§‹åŒ–ç³»ç»Ÿ
system = RefactoredEmailSystem()

# è§£æOutlooké‚®ä»¶
parser = OutlookEmailParser()
parsed_email = parser.parse_email(html_content)

# AIåˆ†æ
analysis = system.analyze_email_priority(email_content)
print(f"ä¼˜å…ˆçº§: {analysis['priority']}")
print(f"æƒ…æ„Ÿå€¾å‘: {analysis['sentiment']}")
```

### é«˜çº§åŠŸèƒ½

```python
# åŠ è½½æ¼”ç¤ºæ•°æ®
from smart_email_ai import email_data_manager, config_manager

demo_emails = email_data_manager.load_demo_emails()
config = config_manager.load_config()

# æ‰¹é‡åˆ†æ
results = system.batch_analyze_emails(demo_emails)

# è‡ªå®šä¹‰é…ç½®
custom_config = {
    'ai_settings': {
        'learning_rate': 0.2,
        'priority_weights': {'urgency': 0.5}
    }
}
system.update_config(custom_config)
```

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§è¯¦è§£

### ğŸ” é‚®ä»¶è§£æèƒ½åŠ›

- **Outlook HTMLæ¸…ç†**: ç§»é™¤Word XMLæ ‡è®°ã€VMLå›¾å½¢ã€æ¡ä»¶æ³¨é‡Š
- **å¤šå±‚è½¬å‘å¤„ç†**: é€’å½’è§£æè½¬å‘é‚®ä»¶é“¾ï¼Œä¿æŒå±‚çº§å…³ç³»
- **è¡¨æ ¼æ™ºèƒ½è¯†åˆ«**: åŒºåˆ†æ•°æ®è¡¨æ ¼å’Œå¸ƒå±€è¡¨æ ¼ï¼Œæå–æœ‰æ„ä¹‰çš„æ•°æ®
- **é™„ä»¶ä¿¡æ¯æå–**: è¯†åˆ«å¹¶è®°å½•é‚®ä»¶é™„ä»¶ä¿¡æ¯

### ğŸ§  AIåˆ†æå¼•æ“

- **ä¼˜å…ˆçº§ç®—æ³•**: åŸºäºå¤šå› å­çš„ä¼˜å…ˆçº§è¯„åˆ†ç³»ç»Ÿ
- **æƒ…æ„Ÿåˆ†æ**: NLPé©±åŠ¨çš„æƒ…æ„Ÿå€¾å‘è¯†åˆ«
- **å‘ä»¶äººç”»åƒ**: åŸºäºå†å²äº¤äº’çš„å‘ä»¶äººç±»å‹è¯†åˆ«
- **å­¦ä¹ æœºåˆ¶**: æ”¯æŒç”¨æˆ·åé¦ˆé©±åŠ¨çš„æ¨¡å‹æ”¹è¿›

### ğŸ¯ MCPå·¥å…·é›†æˆ

ç³»ç»Ÿé›†æˆäº†å®Œæ•´çš„MCPï¼ˆModel Context Protocolï¼‰å·¥å…·é›†ï¼š

- `setup_refactored_email()`: ç³»ç»Ÿåˆå§‹åŒ–
- `analyze_emails_refactored()`: æ‰¹é‡åˆ†æ
- `parse_outlook_email_refactored()`: é‚®ä»¶è§£æ
- `test_configuration_loading()`: é…ç½®æµ‹è¯•

## ğŸ”¬ å¼€å‘ä¸æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# å®Œæ•´æµ‹è¯•å¥—ä»¶
python main.py --test

# å•å…ƒæµ‹è¯•
python -m pytest tests/

# é…ç½®æµ‹è¯•
python -c "from smart_email_ai import config_manager; print('âœ… é…ç½®åŠ è½½æˆåŠŸ')"
```

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å¼€å‘æ¨¡å¼å®‰è£…
pip install -e .

# ä»£ç æ ¼å¼åŒ–
black src/
flake8 src/

# ç±»å‹æ£€æŸ¥
mypy src/
```

## ğŸ“ é¡¹ç›®æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶
- `main.py`: é¡¹ç›®ä¸»å…¥å£ï¼Œæ”¯æŒå‘½ä»¤è¡Œå‚æ•°
- `src/smart_email_ai/main.py`: é‡æ„åçš„ä¸»ç³»ç»Ÿç±»
- `src/smart_email_ai/core/parser.py`: Outlooké‚®ä»¶è§£æå™¨
- `src/smart_email_ai/interfaces/`: é…ç½®å’Œæ•°æ®æ¥å£å±‚

### æ•°æ®æ–‡ä»¶
- `data/config.yaml`: ç³»ç»Ÿé…ç½®æ–‡ä»¶
- `data/demo_emails.json`: æ¼”ç¤ºé‚®ä»¶æ•°æ®é›†
- `data/analysis_results/`: åˆ†æç»“æœå­˜å‚¨ç›®å½•

### å·¥å…·æ–‡ä»¶
- `examples/quick_start.py`: å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
- `legacy/smart_email_ai.py`: åŸå§‹å•ä½“ä»£ç ï¼ˆä¿ç•™å‚è€ƒï¼‰

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦æƒ…è¯·å‚è§ `LICENSE` æ–‡ä»¶ã€‚

## ğŸ†˜ æ”¯æŒä¸å¸®åŠ©

### å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆYAMLé…ç½®åŠ è½½å¤±è´¥ï¼Ÿ**
A: ç¡®ä¿å·²å®‰è£…PyYAML: `pip install pyyaml`

**Q: é‚®ä»¶è§£æå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥é‚®ä»¶æ–‡ä»¶ç¼–ç ï¼Œç¡®ä¿ä¸ºUTF-8æ ¼å¼

**Q: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰æƒ…æ„Ÿå…³é”®è¯ï¼Ÿ**
A: ç¼–è¾‘ `data/config.yaml` ä¸­çš„ `emotional_keywords` é…ç½®

### è”ç³»æ–¹å¼

- ğŸ› BugæŠ¥å‘Š: åˆ›å»ºGitHub Issue
- ğŸ’¡ åŠŸèƒ½å»ºè®®: åˆ›å»ºGitHub Discussion
- ğŸ“§ æŠ€æœ¯æ”¯æŒ: æŸ¥çœ‹é¡¹ç›®Wiki

## ğŸ”„ ç‰ˆæœ¬å†å²

### v2.0.0 (å½“å‰ç‰ˆæœ¬)
- âœ… å®Œå…¨é‡æ„ä¸ºæ¨¡å—åŒ–æ¶æ„
- âœ… å®ç°é…ç½®æ–‡ä»¶å¤–éƒ¨åŒ–
- âœ… æ·»åŠ MCPå·¥å…·é›†æˆ
- âœ… å¢å¼ºAIåˆ†æèƒ½åŠ›
- âœ… æ”¹è¿›é‚®ä»¶è§£æå™¨

### v1.0.0 (Legacy)
- âœ… åŸºç¡€é‚®ä»¶è§£æåŠŸèƒ½
- âœ… ç®€å•ä¼˜å…ˆçº§åˆ†æ
- âœ… Outlook HTMLå¤„ç†

---

<div align="center">

**ğŸš€ è®©AIä¸ºæ‚¨çš„é‚®ä»¶ç®¡ç†æ·»ç¿¼ï¼**

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Active-brightgreen.svg)](https://github.com/your-repo)

</div>
